<!DOCTYPE html>

<html>
	<head>
		<meta charset="utf-8">
		
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		
	</head>
	
	<body>
        <button id="request" onclick="onClick(); removeBtn(this); " style="background-color: #e7e7e7; color: black; width: 100px; height: 50px;" > request permission</button>


		<script>
			

            function onClick() {
                if (typeof DeviceOrientationEvent.requestPermission === 'function') {
                DeviceOrientationEvent.requestPermission()
                    .then(permissionState => {
                    if (permissionState === 'granted') {
                        window.addEventListener("deviceorientation", deviceOrientation, true);
                    }
                    })
                    .catch(console.error);
                } else {
                    window.addEventListener("deviceorientation", deviceOrientation, true);

                }
            }
                
			function removeBtn(bnt){
				var element = bnt;
				element.remove(bnt);
			}
		

			function deviceOrientation(event)
			{
				// document.getElementById('alpha').innerHTML = event.alpha.toFixed(1);
				// document.getElementById('beta').innerHTML = event.beta.toFixed(1);
				// document.getElementById('gamma').innerHTML = event.gamma.toFixed(1);
				// document.getElementById('absolute').innerHTML = event.absolute;
			}
			
		</script>
	</body>

</html>
